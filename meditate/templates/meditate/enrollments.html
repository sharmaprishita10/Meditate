{% extends "meditate/layout.html" %}

{% block title %}
    My Enrollments | 
{% endblock %}

{% block script %}
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.program-div').forEach(div => {
                const prog_id = div.dataset.id; 
                
                // On click, view the specifc program
                div.onclick = () => {
                    location.assign(`/program/${prog_id}`);
                };
            }); 

            document.querySelectorAll('.course-div').forEach(div => {
                const course_id = div.dataset.id; 
                
                // On click, view the specific course
                div.onclick = () => {
                    location.assign(`/course/${course_id}`);
                };
            });
        });
    </script>

{% endblock %}

{% block body %}
    <h3 class="text-white">My Enrollments</h3>
    <div class="container">
        {% for program in programs %}
            <div class="program-div bg-light bg-opacity-75 row mt-3 p-3" data-id="{{ program.id }}">
                <div class="col col-lg-3 col-sm-6">
                    <img src="{{ program.image }}" alt="Program image" class="img-fluid" style="height:35vh;">
                </div>
                <div class="col col-lg-9 col-sm-6">
                    <h2>{{ program.title }}</h2>
                    <p>{{ program.days }}</p>
                </div>
            </div>
        {% endfor %}
    
        {% for course in courses %}
            <div class="course-div bg-light bg-opacity-75 row mt-3 p-3" data-id="{{ course.id }}">
                <div class="col col-lg-3 col-sm-6">
                    <img src="{{ course.image }}" alt="Course image" class="img-fluid" style="height:35vh;">
                </div>
                <div class="col col-lg-9 col-sm-6">
                    <h2>{{ course.title }}</h2>
                    <h5>{{ course.subtitle }}</h5>
                    <p>Duration: {{ course.duration }} hrs</p>
                </div>
            </div>
        {% endfor %}
    </div>
{% endblock %}